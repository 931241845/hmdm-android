23a24,26
> 
>     dependencies {
>     }
25a29,30
> apply plugin: 'com.google.gms.google-services'  // Google Services plugin
> apply plugin: 'com.google.firebase.crashlytics'
32a38,51
>     signingConfigs {
>         common {
>             // The original keystore of Headwind MDM has been removed from the code
>             // to avoid occasional compromising of private keys.
>             // You may wish to sign the app with your own keys, please follow
>             // Android developer guide how to generate your keys.
>             // If you still with to sign the app with original Headwind MDM keys,
>             // please contact Headwind MDM team to get a key store file.
>             keyAlias 'kiosk'
>             keyPassword 'aGVhZHdpbmRSdWxlS2lvc2s='
>             storeFile file('keystore/keystore.jks')
>             storePassword 'aGVhZHdpbmRNYWlu'
>         }
>     }
34a54,57
> 
>     def realVersionCode=1212
>     def realVersionName="4.12"
> 
37a61,62
>         // To change to 30, add a permission to AndroidManifest.xml: <permission android:name="android.permission.QUERY_ALL_PACKAGES" />
>         // Otherwise PackageManager.getPackageInfo() won't work
39,40c64,65
<         versionCode 211
<         versionName "4.11"
---
>         versionCode realVersionCode
>         versionName realVersionName
46a72,73
>         // Build parameters which could be used to customize your build
> 
84c111
<         buildConfigField("Boolean", "ENABLE_KIOSK_WITHOUT_OVERLAYS", "false")
---
>         buildConfigField("Boolean", "ENABLE_KIOSK_WITHOUT_OVERLAYS", "true")
89c116
<         buildConfigField("Boolean", "SET_DEFAULT_LAUNCHER_EARLY", "false")
---
>         buildConfigField("Boolean", "SET_DEFAULT_LAUNCHER_EARLY", "true")
94a122
>             signingConfig signingConfigs.common
99a128
>             signingConfig signingConfigs.common
119a149,197
> 
>     flavorDimensions "all"
> 
>     productFlavors {
>         // Master build variant (Pro-version)
>         master {
>             buildConfigField("String", "BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SECONDARY_BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SERVER_PROJECT", "\"\"")
>             buildConfigField("Boolean", "REQUEST_SERVER_URL", "true")
>         }
>         // Open source version
>         opensource {
>             versionCode realVersionCode - 1000
>             buildConfigField("String", "BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SECONDARY_BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SERVER_PROJECT", "\"\"")
>             buildConfigField("Boolean", "REQUEST_SERVER_URL", "true")
>             buildConfigField("Boolean", "SET_DEFAULT_LAUNCHER_EARLY", "false")
>         }
>         // Master build variant (Pro-version), rebranded
>         // If you would like to rebrand your version of Headwind MDM,
>         // it is recommended to make all changes in the "whitelabel" flavor
>         // The corresponding source code is in src/whitelabel path
>         whitelabel {
>             // You can change the package ID to your own one
>             // This requires additional steps!
>             // See the comment in src/whitelabel/AndroidManifest.xml file
>             // If you do not need to change the package ID, keep AndroidManifest.xml as is.
> //            applicationId "ru.headwind.kiosk"
> 
>             // Replace these values to your server host and path
>             buildConfigField("String", "BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SECONDARY_BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SERVER_PROJECT", "\"\"")
>             // Set to false to disable user from setting server URL at first start
>             buildConfigField("Boolean", "REQUEST_SERVER_URL", "false")
>         }
>         // Master build with system privileges
>         // Should be signed by system keys, or privileged permissions should be declared in /etc/permissions!
>         system {
>             buildConfigField("String", "BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SECONDARY_BASE_URL", "\"http://app.h-mdm.com\"")
>             buildConfigField("String", "SERVER_PROJECT", "\"\"")
>             buildConfigField("Boolean", "SYSTEM_PRIVILEGES", "true")
>             // Change this field to enable non-interactive setup of the device ID
>             buildConfigField("String", "DEVICE_ID_CHOICE", "\"user\"")
>         }
>     }
133a212,215
> //    implementation ('org.eclipse.paho:org.eclipse.paho.android.service:1.1.1') {
> //        exclude module: 'support-v4'
> //        transitive = true
> //    }
151a234,235
>     implementation 'com.google.firebase:firebase-crashlytics:17.2.1'
> 
155a240,256
> 
> gradle.projectsEvaluated {
>     preBuild.dependsOn(copyFiles)
> }
> 
> task copyFiles(type: Copy) {
>     println("Copying common files to all enterprise build variants")
>     def srcFolder = "src/master/java/com/hmdm/launcher/pro"
>     ['src/system/java/com/hmdm/launcher/pro',
>      'src/whitelabel/java/com/hmdm/launcher/pro'
>     ].each {
>         destFolder -> copy {
>             from(srcFolder)
>             into(destFolder)
>         }
>     }
> }
\ No newline at end of file
